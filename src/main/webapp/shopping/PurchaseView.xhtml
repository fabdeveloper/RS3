<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:em="http://jsfcompslib.src/taglib"
	xmlns:p="http://java.sun.com/jsf/html"
	xmlns:core="http://java.sun.com/jsf/core">




<p:body>
	<ui:composition template="../templates/templatePurchaseView.xhtml">
		
		<ui:define name="order">
		
			<p:form>
				<p:commandButton class="botonrcorner" value="Confirmar sin pagar"
					action="#{purchaseViewBB.purchaseConfirm}"></p:commandButton>
			
				<p:commandButton class="botonrcorner" value="Simula pago OK"
					action="#{purchaseViewBB.simulaPagoOK()}"></p:commandButton>
				
				<p:commandButton class="botonrcorner" value="Simula pago KO"
					action="#{purchaseViewBB.simulaPagoKO()}"></p:commandButton>
				<br />
				<p:button id="stripebutton" value="#{purchaseViewBB.getStringPagarConStripe()}"></p:button><br />
				<p:outputText value="#{purchaseDetailViewBB.getStringOrderId()}"></p:outputText>
				<p:outputText value="#{purchaseViewBB.getOrder().id}"></p:outputText>
				<br />
			</p:form>
		</ui:define>

		<ui:define name="client">
		
			<em:outputusercomp label1="#{purchaseDetailViewBB.getStringUserNick()}"
				text1="#{purchaseViewBB.getUser().nick}" label2="#{purchaseDetailViewBB.getStringUserName()}"
				text2="#{purchaseViewBB.getUser().name}" label3="#{purchaseDetailViewBB.getStringUserEmail()}"
				text3="#{purchaseViewBB.getUser().email}"></em:outputusercomp>
		</ui:define>

		<ui:define id="deliverydetails" name="delivery">
		
			<em:inputdeliverydetailscomp titulotexto1="#{purchaseDetailViewBB.getStringDeliveryAddress()}"
				texto1="#{purchaseViewBB.deliveryAddress}"
				titulotexto2="#{purchaseDetailViewBB.getStringDeliveryRemarks()}"
				texto2="#{purchaseViewBB.remark}"
				titulo3="#{purchaseDetailViewBB.getStringDeliveryType()}"
				texto3="#{purchaseViewBB.deliveryType}" 
				buttonclass="botonrcorner"
				inputtextclass="inputtext">
				
<!-- 				<core:ajax event="modificado" execute="deliverydetails"></core:ajax> -->
			</em:inputdeliverydetailscomp>
		</ui:define>

		<ui:define name="cart">
		
			<em:outputcartcomp titulo1="#{purchaseDetailViewBB.getStringCartNumArticulos()}"
				texto1="#{purchaseViewBB.getCart().getListaOfertas().size()}"
				titulo2="#{purchaseDetailViewBB.getStringCartPrice()}" texto2="#{purchaseViewBB.getCart().value}"
				lista="#{purchaseViewBB.getCart().listaOfertas}"></em:outputcartcomp>
		</ui:define>

	</ui:composition>

</p:body>

</html>